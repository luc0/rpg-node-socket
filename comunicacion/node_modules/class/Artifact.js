
// Modelo Artifact
exports.Artifact = function( params ){
	var defaults = {

		/*Objeto que contiene el sprite de THREE.JS*/
		"sprite":null,


		/*Angulo del Being*/
		"rotation":{
			"x":0,
			"y":0
		},

		// no lo estamos usando, lo dejamos por si las moscas
		"world":null,

		"type":Artifact,

		/* ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
		/* ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
		/*
			PROPIEDADES DE COMUNICACION: Las propiedades con el prefijo _
			utilizan setters y getters para clonar el valor asignado a cada
			propiedad en una lista de valores modificados.
			Luego sera enviad apor socket.
		*/
		/* ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */

		/*Posicion del Being*/
		"_position":{
			"x":0,
			"y":0
		},

		/*Propiedad que define si el objeto puede Being atravesado*/
		"_solid":false,

		// Indica si se puede usar el objeto
		"_usable":false,

		// Indica si una vez usado el objeto desaparece
		"_consumable":false,

		// Cantidad de items
		"_count" : 1,

	}

	/* ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
	/*
		SETTERS Y GETTERS
	*/
	/* ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
	Object.defineProperty(this, 'position', {
		get: function() {
			return this._position;
		},
		set: function(value) {
			this._position = value;
			SERVER.queue({"user" : this.name , "property" : "position" , "value" : value });
		}
	});
	/* ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
	Object.defineProperty(this, 'solid', {
		get: function() {
			return this._solid;
		},
		set: function(value) {
			this._solid = value;
			SERVER.queue({"user" : this.name , "property" : "solid" , "value" : value });
		}
	});
	/* ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
	Object.defineProperty(this, 'usable', {
		get: function() {
			return this._usable;
		},
		set: function(value) {
			this._usable = value;
			SERVER.queue({"user" : this.name , "property" : "usable" , "value" : value });
		}
	});
	/* ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
	Object.defineProperty(this, 'consumable', {
		get: function() {
			return this._consumable;
		},
		set: function(value) {
			this._consumable = value;
			SERVER.queue({"user" : this.name , "property" : "consumable" , "value" : value });
		}
	});
	/* ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
	Object.defineProperty(this, 'count', {
		get: function() {
			return this._count;
		},
		set: function(value) {
			this._count = value;
			SERVER.queue({"user" : this.name , "property" : "count" , "value" : value });
		}
	});
	/* ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */

	/*Mezcla de los defaults con los parametros pasados al objeto*/
	merge( defaults , params , this );

	this.setWorld = function( params ){
		this.world = params;
	}

	this.setWorld( params.world );


}
