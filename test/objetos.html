<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Objetos</title>
	<script src="framework.js"></script>
	<script src="Controls.js"></script>
	<script src="Being.js"></script>
	<script src="Terrain.js"></script>
	<script src="beings/Elfo.js"></script>
	<script src="terrains/Tierra.js"></script>
	<script src="terrains/Agua.js"></script>
	<script src="Tile.js"></script>
	<script src="World.js"></script>
	<style>
		#view{
			width:50%;
			margin:10px auto;
		}
		body{
			overflow: hidden;
		}
		div{
			margin:0;
			padding:0;
			height:10px;
		}
		.tile{
			display:inline-block;
			width:10px;
			height:10px;
			outline:1px solid rgba(0,0,0,0.2);
			position:relative;
		}
		span{
			position:absolute;
			left:0;
			top:0;
			width:100%;
			height:100%;
			/*background-color:rgba(255,0,0,0.2);*/
			display:block;
		}
		.Elfo{
			background-color:rgba(0,255,0,1);
			border-radius:100px;
			z-index:3;
		}

		.Agua{
			background-color:rgba(0,0,255,0.7);
			z-index:1;
		}

		.Tierra{
			background-color:rgba(100,80,30,0.7);
			z-index:1;
		}
	</style>
</head>
<body>
	<div id="view"></div>
	<script>

		var world = new World();

		var miElfo = new Elfo({
			"position":{
				"x": 2
			},
			"name":"Roberto",
			"controls":"pc",
			"world":world
		});
		var otroElfo = new Elfo({
			"position":{
				"x": 5,
				"y": 5
			},
			"name":"Lucas",
			"controls":"npc",
			"world":world
		});

		//var miarray = createArray( 5 , 5 , Elfo );
		var view = document.getElementById('view');
		setInterval(function(){
			var tiles = ""
			var beingClass;
			var artifactClass;
			var terrainClass;

			for( var y = 0 ; y < 30 ; y++ ){
				tiles+="<div>";
				for( var x = 0 ; x < 30 ; x++ ){
					beingClass = world.getTile({"x":x , "y":y}).being && world.getTile({"x":x , "y":y}).being.specie;
					terrainClass = world.getTile({"x":x , "y":y}).terrain && world.getTile({"x":x , "y":y}).terrain.specie;

					beingSpan = "<span class='" + beingClass + "'></span>";
					terrainSpan = "<span class='" + terrainClass + "'></span>";
					tiles+="<div class='tile'>" + beingSpan + terrainSpan + "</div>";

					beingClass="";
					terrainClass="";
				}
				tiles+="</div>";

			}
			view.innerHTML = tiles;
		},60)
	</script>
</body>
</html>
