exports.gameController = function( socket ){


	//------------------------------------------------------------------------------------------------
	// RECIBE DEL CLIENT
	//------------------------------------------------------------------------------------------------
	socket.on("user_keydown",function( params ){

		var being = world.findBeing({ "userId" : params.userId });

		if( params.key == 'up'){
			being.clientSendUp();
			return;
		}
		if( params.key == 'right'){
			being.clientSendRight();
			return;
		}
		if( params.key == 'down'){
			being.clientSendDown();
			return;
		}
		if( params.key == 'left'){
			being.clientSendLeft();
			return;
		}
		if( params.key == 'take'){
			being.clientSendTake();
			return;
		}
		if( params.key == 'drop'){
			being.clientSendDrop();
			return;
		}
		if( params.key == 'attack'){
			being.clientSendAttack();
			return;
		}


	});

	socket.on("answer_drop",function( params ){
		var count = parseInt(params.answer);
		var being = world.findBeing({ "userId" : socket.username });
		console.log("CANTIDAD A TIRAR",count)
		being.drop({ "dropAmount" : count });

	});

	socket.on("ping",function( params ){
		socket.emit( 'pong' );
	});

}

console.log('gameController -> OK');
